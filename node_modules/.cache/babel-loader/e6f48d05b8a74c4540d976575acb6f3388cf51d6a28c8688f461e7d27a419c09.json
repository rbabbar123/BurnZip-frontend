{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL='https://burnzip-backend.onrender.com';const UploadPage=()=>{const[mode,setMode]=useState('file');const[file,setFile]=useState(null);const[message,setMessage]=useState('');const[code,setCode]=useState('');const[uploading,setUploading]=useState(false);const handleUpload=async()=>{const trimmedCode=code.trim();const trimmedMessage=message.trim();if(!/^[A-Za-z0-9]{10}$/.test(trimmedCode)){alert('Code must be exactly 10 alphanumeric characters.');return;}if(mode==='file'&&!file){alert('Please select a file to upload.');return;}if(mode==='message'&&!trimmedMessage){alert('Please enter a message to upload.');return;}setUploading(true);try{let response;if(mode==='file'){const formData=new FormData();formData.append('code',trimmedCode);formData.append('file',file);if(trimmedMessage)formData.append('message',trimmedMessage);response=await fetch(\"\".concat(BACKEND_URL,\"/upload\"),{method:'POST',body:formData});}else{const payload={code:trimmedCode,message:trimmedMessage};response=await fetch(\"\".concat(BACKEND_URL,\"/upload\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});}const json=await response.json();if(!response.ok)throw new Error(json.error||'Upload failed');alert('‚úÖ Upload successful. Share the ID and code with your recipient.');}catch(err){console.error(err);alert(\"\\u274C Upload failed: \".concat(err.message));}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'6vh',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCE4 Upload to BurnZip\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"file\",checked:mode==='file',onChange:()=>setMode('file')}),\"File\"]}),/*#__PURE__*/_jsxs(\"label\",{style:{marginLeft:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"message\",checked:mode==='message',onChange:()=>setMode('message')}),\"Message\"]})]}),mode==='file'?/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),style:{marginTop:'10px'}}):/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter your message\",value:message,onChange:e=>setMessage(e.target.value),rows:4,style:{width:'80%',marginTop:'10px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"10-char code\",value:code,onChange:e=>setCode(e.target.value),maxLength:10,style:{marginTop:'10px',padding:'8px',fontSize:'16px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:uploading,style:{marginTop:'20px',padding:'10px 20px',fontSize:'16px'},children:uploading?'Uploading...':'Upload'})]});};export default UploadPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","UploadPage","mode","setMode","file","setFile","message","setMessage","code","setCode","uploading","setUploading","handleUpload","trimmedCode","trim","trimmedMessage","test","alert","response","formData","FormData","append","fetch","concat","method","body","payload","headers","JSON","stringify","json","ok","Error","error","err","console","style","textAlign","marginTop","padding","children","type","value","checked","onChange","marginLeft","e","target","files","placeholder","rows","width","maxLength","fontSize","onClick","disabled"],"sources":["C:/Users/rbabb/BurnZip-frontend/src/UploadPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst BACKEND_URL = 'https://burnzip-backend.onrender.com';\r\n\r\nconst UploadPage = () => {\r\n  const [mode, setMode] = useState('file');\r\n  const [file, setFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [code, setCode] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const handleUpload = async () => {\r\n    const trimmedCode = code.trim();\r\n    const trimmedMessage = message.trim();\r\n\r\n    if (!/^[A-Za-z0-9]{10}$/.test(trimmedCode)) {\r\n      alert('Code must be exactly 10 alphanumeric characters.');\r\n      return;\r\n    }\r\n\r\n    if (mode === 'file' && !file) {\r\n      alert('Please select a file to upload.');\r\n      return;\r\n    }\r\n\r\n    if (mode === 'message' && !trimmedMessage) {\r\n      alert('Please enter a message to upload.');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    try {\r\n      let response;\r\n\r\n      if (mode === 'file') {\r\n        const formData = new FormData();\r\n        formData.append('code', trimmedCode);\r\n        formData.append('file', file);\r\n        if (trimmedMessage) formData.append('message', trimmedMessage);\r\n\r\n        response = await fetch(`${BACKEND_URL}/upload`, {\r\n          method: 'POST',\r\n          body: formData\r\n        });\r\n      } else {\r\n        const payload = {\r\n          code: trimmedCode,\r\n          message: trimmedMessage\r\n        };\r\n\r\n        response = await fetch(`${BACKEND_URL}/upload`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(payload)\r\n        });\r\n      }\r\n\r\n      const json = await response.json();\r\n      if (!response.ok) throw new Error(json.error || 'Upload failed');\r\n\r\n      alert('‚úÖ Upload successful. Share the ID and code with your recipient.');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(`‚ùå Upload failed: ${err.message}`);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', marginTop: '6vh', padding: '20px' }}>\r\n      <h2>üì§ Upload to BurnZip</h2>\r\n      <div>\r\n        <label>\r\n          <input type=\"radio\" value=\"file\" checked={mode === 'file'} onChange={() => setMode('file')} />\r\n          File\r\n        </label>\r\n        <label style={{ marginLeft: '20px' }}>\r\n          <input type=\"radio\" value=\"message\" checked={mode === 'message'} onChange={() => setMode('message')} />\r\n          Message\r\n        </label>\r\n      </div>\r\n\r\n      {mode === 'file' ? (\r\n        <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} style={{ marginTop: '10px' }} />\r\n      ) : (\r\n        <textarea\r\n          placeholder=\"Enter your message\"\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          rows={4}\r\n          style={{ width: '80%', marginTop: '10px' }}\r\n        />\r\n      )}\r\n\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"10-char code\"\r\n        value={code}\r\n        onChange={(e) => setCode(e.target.value)}\r\n        maxLength={10}\r\n        style={{ marginTop: '10px', padding: '8px', fontSize: '16px' }}\r\n      />\r\n      <br />\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={uploading}\r\n        style={{ marginTop: '20px', padding: '10px 20px', fontSize: '16px' }}\r\n      >\r\n        {uploading ? 'Uploading...' : 'Upload'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}