{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BurnZipApp=_ref=>{let{backendUrl}=_ref;const[file,setFile]=useState(null);const[code,setCode]=useState('');const[message,setMessage]=useState('');const[link,setLink]=useState('');const[error,setError]=useState('');const handleUpload=async()=>{const trimmedCode=code.trim();const trimmedMessage=message.trim();if(!/^[A-Za-z0-9]{10}$/.test(trimmedCode)){alert('Code must be exactly 10 alphanumeric characters.');return;}if(!file&&!trimmedMessage){alert('Please provide a file or a message to encrypt.');return;}try{let response;if(file){// File upload via multipart/form-data\nconst formData=new FormData();formData.append('code',trimmedCode);formData.append('file',file);if(trimmedMessage)formData.append('message',trimmedMessage);response=await fetch(\"\".concat(backendUrl,\"/api/upload\"),{method:'POST',body:formData});}else{// Message-only upload via JSON\nconst payload={code:trimmedCode,message:trimmedMessage};response=await fetch(\"\".concat(backendUrl,\"/api/upload\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});}const json=await response.json();if(!response.ok)throw new Error(json.error||'Upload failed');setLink(json.link);setError('');}catch(err){console.error(err);setError(err.message);setLink('');}};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'6vh',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCE4 BurnZip Uploader\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Choose a file or enter a message, and provide a 10-character code to encrypt and upload.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),style:{margin:'10px 0'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Optional message\",value:message,onChange:e=>setMessage(e.target.value),rows:4,style:{width:'80%',marginBottom:'10px',padding:'8px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter 10-char code\",value:code,onChange:e=>setCode(e.target.value),maxLength:10,style:{padding:'8px',fontSize:'16px',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,style:{padding:'10px 20px',fontSize:'16px',cursor:'pointer'},children:\"Upload\"}),link&&/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'20px'},children:[\"\\u2705 Upload successful. Share this link: \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:link,target:\"_blank\",rel:\"noopener noreferrer\",children:link})]}),error&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'red',marginTop:'20px'},children:[\"\\u274C \",error]})]});};export default BurnZipApp;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BurnZipApp","_ref","backendUrl","file","setFile","code","setCode","message","setMessage","link","setLink","error","setError","handleUpload","trimmedCode","trim","trimmedMessage","test","alert","response","formData","FormData","append","fetch","concat","method","body","payload","headers","JSON","stringify","json","ok","Error","err","console","style","textAlign","marginTop","padding","children","type","onChange","e","target","files","margin","placeholder","value","rows","width","marginBottom","maxLength","fontSize","onClick","cursor","href","rel","color"],"sources":["C:/Users/rbabb/BurnZip-frontend/src/BurnZipApp.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst BurnZipApp = ({ backendUrl }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [code, setCode] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [link, setLink] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\nconst handleUpload = async () => {\r\n  const trimmedCode = code.trim();\r\n  const trimmedMessage = message.trim();\r\n\r\n  if (!/^[A-Za-z0-9]{10}$/.test(trimmedCode)) {\r\n    alert('Code must be exactly 10 alphanumeric characters.');\r\n    return;\r\n  }\r\n\r\n  if (!file && !trimmedMessage) {\r\n    alert('Please provide a file or a message to encrypt.');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    let response;\r\n\r\n    if (file) {\r\n      // File upload via multipart/form-data\r\n      const formData = new FormData();\r\n      formData.append('code', trimmedCode);\r\n      formData.append('file', file);\r\n      if (trimmedMessage) formData.append('message', trimmedMessage);\r\n\r\n      response = await fetch(`${backendUrl}/api/upload`, {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n    } else {\r\n      // Message-only upload via JSON\r\n      const payload = {\r\n        code: trimmedCode,\r\n        message: trimmedMessage\r\n      };\r\n\r\n      response = await fetch(`${backendUrl}/api/upload`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n    }\r\n\r\n    const json = await response.json();\r\n    if (!response.ok) throw new Error(json.error || 'Upload failed');\r\n\r\n    setLink(json.link);\r\n    setError('');\r\n  } catch (err) {\r\n    console.error(err);\r\n    setError(err.message);\r\n    setLink('');\r\n  }\r\n};\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', marginTop: '6vh', padding: '20px' }}>\r\n      <h2>üì§ BurnZip Uploader</h2>\r\n      <p>Choose a file or enter a message, and provide a 10-character code to encrypt and upload.</p>\r\n\r\n      <input\r\n        type=\"file\"\r\n        onChange={(e) => setFile(e.target.files[0])}\r\n        style={{ margin: '10px 0' }}\r\n      />\r\n\r\n      <br />\r\n\r\n      <textarea\r\n        placeholder=\"Optional message\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n        rows={4}\r\n        style={{ width: '80%', marginBottom: '10px', padding: '8px' }}\r\n      />\r\n\r\n      <br />\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter 10-char code\"\r\n        value={code}\r\n        onChange={(e) => setCode(e.target.value)}\r\n        maxLength={10}\r\n        style={{ padding: '8px', fontSize: '16px', marginBottom: '10px' }}\r\n      />\r\n\r\n      <br />\r\n\r\n      <button\r\n        onClick={handleUpload}\r\n        style={{ padding: '10px 20px', fontSize: '16px', cursor: 'pointer' }}\r\n      >\r\n        Upload\r\n      </button>\r\n\r\n      {link && (\r\n        <p style={{ marginTop: '20px' }}>\r\n          ‚úÖ Upload successful. Share this link: <br />\r\n          <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">{link}</a>\r\n        </p>\r\n      )}\r\n\r\n      {error && (\r\n        <p style={{ color: 'red', marginTop: '20px' }}>\r\n          ‚ùå {error}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BurnZipApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}